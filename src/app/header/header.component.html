<div class="header">
    <div class="logo-doctolib">
        <img src="assets/logo.svg" alt="Doctolib" (click)="goToHome()"/>
    </div>

    <div class="button">
        <button class="profesionnal_button" (click)="goToProfessionnals()">
            <p class="main_text">Vous êtes soignant ?</p>
        </button>

        <button class="button_with_pictogram" (click)="toggleHelpPopup()">
            <svg class="picto" width="16" height="16" fill="white" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" data-design-system="oxygen" data-design-system-component="Icon" data-icon-name="regular/arrow-left">
                <path d="M8 2C4.672 2 2 4.695 2 8c0 3.328 2.672 6 6 6 3.305 0 6-2.672 6-6 0-3.305-2.695-6-6-6m0 10.875A4.87 4.87 0 0 1 3.125 8c0-2.672 2.18-4.875 4.875-4.875 2.672 0 4.875 2.203 4.875 4.875 0 2.695-2.203 4.875-4.875 4.875m0-3a.74.74 0 0 0-.75.75c0 .422.305.75.75.75.398 0 .75-.328.75-.75a.755.755 0 0 0-.75-.75M8.773 5H7.578a1.63 1.63 0 0 0-1.64 1.64.57.57 0 0 0 .562.563.57.57 0 0 0 .563-.562.5.5 0 0 1 .492-.516H8.75c.305 0 .563.234.563.516a.5.5 0 0 1-.258.445l-1.336.797a.58.58 0 0 0-.282.492v.375A.57.57 0 0 0 8 9.313a.57.57 0 0 0 .563-.563v-.047l1.054-.656c.492-.305.797-.844.797-1.406C10.438 5.727 9.711 5 8.774 5Z"></path>            </svg>
            <div class ="text">
                <p class="main_text"> Centre d'Aide</p>
            </div>
        </button>

         <!-- Pop-up d'aide avec les liens qui ouvrent dans un nouvel onglet -->
        <div class="help_popup_content" *ngIf="isHelpPopupVisible">
            <div class="help_popup_title">
                <svg class="picto" width="16" height="16" fill="black" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" data-design-system="oxygen" data-design-system-component="Icon" data-icon-name="regular/arrow-left">
                    <path d="M8 2C4.672 2 2 4.695 2 8c0 3.328 2.672 6 6 6 3.305 0 6-2.672 6-6 0-3.305-2.695-6-6-6m0 10.875A4.87 4.87 0 0 1 3.125 8c0-2.672 2.18-4.875 4.875-4.875 2.672 0 4.875 2.203 4.875 4.875 0 2.695-2.203 4.875-4.875 4.875m0-3a.74.74 0 0 0-.75.75c0 .422.305.75.75.75.398 0 .75-.328.75-.75a.755.755 0 0 0-.75-.75M8.773 5H7.578a1.63 1.63 0 0 0-1.64 1.64.57.57 0 0 0 .562.563.57.57 0 0 0 .563-.562.5.5 0 0 1 .492-.516H8.75c.305 0 .563.234.563.516a.5.5 0 0 1-.258.445l-1.336.797a.58.58 0 0 0-.282.492v.375A.57.57 0 0 0 8 9.313a.57.57 0 0 0 .563-.563v-.047l1.054-.656c.492-.305.797-.844.797-1.406C10.438 5.727 9.711 5 8.774 5Z"></path>
                </svg>
                <h2>Question fréquentes</h2>
            </div>
            
            <a class = "help_link" href="/help" target="_blank" rel="noopener noreferrer">Utiliser Doctolib sur ordinateur, smartphone ou tablette</a>
            <a class = "help_link" href="/help" target="_blank" rel="noopener noreferrer">Mot de passe oublié ? / Identifiant(s) oublié(s) ?</a>
            <a class = "help_link" href="/help" target="_blank" rel="noopener noreferrer">Prendre et confirmer un rendez-vous sur Doctolib</a>
            
            <div class="help_popup_link">
                <a class = "help_center" href="/help" target="_blank" rel="noopener noreferrer">Ouvrir le Centre d'aide</a>
                <svg class="picto" width="16" height="16" fill="#107ACA" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" data-design-system="oxygen" data-design-system-component="Icon" data-icon-name="regular/arrow-left">
                    <path d="M13.438 2H10.25a.75.75 0 0 0-.703.492.76.76 0 0 0 .164.82l.96.961-4.523 4.524a.723.723 0 0 0 0 1.055c.141.14.329.21.54.21.187 0 .375-.07.515-.21l4.524-4.524.96.961c.141.14.329.211.54.211.093 0 .187 0 .28-.047A.75.75 0 0 0 14 5.75V2.562A.57.57 0 0 0 13.437 2Zm-2.25 7.5a.555.555 0 0 0-.563.563v2.624a.185.185 0 0 1-.188.188H3.314c-.118 0-.188-.07-.188-.188V5.564c0-.094.07-.188.188-.188h2.624a.555.555 0 0 0 .563-.563.57.57 0 0 0-.563-.562H3.313A1.325 1.325 0 0 0 2 5.563v7.125A1.31 1.31 0 0 0 3.313 14h7.124c.704 0 1.313-.586 1.313-1.313v-2.624a.57.57 0 0 0-.563-.563Z"></path>
                </svg>
            </div>
            
        </div>

        @if (isConnected){
            <button class="button_with_pictogram" (click)="goToAppointments()">
                <div class ="text">
                    <p class="main_text">Mes rendez-vous</p>
                </div>
            </button>

            <button class="button_with_pictogram" (click)="toggleConnectedPopup()">
                <div class ="text">
                    <p class="main_text">fn ln</p>
                </div>

                @if(isConnectedPopupVisible){
                    <svg class="picto" width="16" height="16" fill="white" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" data-design-system="oxygen" data-design-system-component="Icon" data-icon-name="regular/angle-up">
                        <path d="m4.04 9.29 3.562-3.352A.58.58 0 0 1 8 5.75c.117 0 .258.07.375.164l3.563 3.352c.234.21.234.562.023.796-.211.235-.563.235-.797.024l-3.187-3-3.165 3c-.234.21-.585.21-.796-.024a.53.53 0 0 1 .023-.773Z"></path>
                    </svg>
                }
                @else{
                    <svg class="picto" width="16" height="16" fill="white" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" data-design-system="oxygen" data-design-system-component="Icon" data-icon-name="regular/angle-down">
                        <path d="m11.938 6.71-3.563 3.353a.58.58 0 0 1-.398.187c-.118 0-.258-.07-.375-.164L4.039 6.734c-.234-.21-.234-.562-.023-.796.21-.235.562-.235.797-.024l3.187 3 3.164-3c.234-.21.586-.21.797.024a.53.53 0 0 1-.024.773Z"></path>
                    </svg>
                }
            </button>

            <div class="connected_popup" *ngIf="isConnectedPopupVisible">
                <button class="button_connected_popup" (click)="goToProfile()">
                    <svg class="picto" width="16" height="16"  viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" data-design-system="oxygen" data-design-system-component="Icon" data-icon-name="regular/arrow-left">
                        <path d="M9.125 9.125h-2.25A4.116 4.116 0 0 0 2.75 13.25c0 .422.328.75.75.75h9c.398 0 .75-.328.75-.75a4.13 4.13 0 0 0-4.125-4.125m-5.25 3.75a3.016 3.016 0 0 1 3-2.625h2.25a3.01 3.01 0 0 1 2.977 2.625zM8 8c1.64 0 3-1.336 3-3 0-1.64-1.36-3-3-3-1.664 0-3 1.36-3 3 0 1.664 1.336 3 3 3m0-4.875A1.88 1.88 0 0 1 9.875 5 1.866 1.866 0 0 1 8 6.875 1.85 1.85 0 0 1 6.125 5c0-1.031.82-1.875 1.875-1.875"></path>            
                    </svg>
                    <p class="main_text"> Mon compte</p>
                </button>
                <hr aria-hidden="true" class="divider" data-design-system="oxygen" data-design-system-component="Divider">
                <button class="button_connected_popup" (click)="disconnect()">
                    <svg class="picto" width="16" height="16"  viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" data-design-system="oxygen" data-design-system-component="Icon" data-icon-name="regular/right-from-bracket">
                        <path d="M5.938 12.125H4.25A1.11 1.11 0 0 1 3.125 11V5c0-.61.492-1.125 1.125-1.125h1.688a.555.555 0 0 0 .562-.563.57.57 0 0 0-.563-.562H4.25A2.236 2.236 0 0 0 2 5v6a2.22 2.22 0 0 0 2.25 2.25h1.688a.555.555 0 0 0 .562-.563.57.57 0 0 0-.563-.562Zm7.851-4.523L10.227 4.46a.8.8 0 0 0-.844-.14.77.77 0 0 0-.445.702v1.313H6.124a.91.91 0 0 0-.938.937v1.5c0 .516.399.938.938.938h2.813V11a.77.77 0 0 0 .773.773c.187 0 .375-.07.516-.21l3.562-3.118A.53.53 0 0 0 14 8.023a.53.53 0 0 0-.21-.421Zm-3.726 2.601v-1.64h-3.75V7.437h3.75v-1.64L12.57 8z"></path>
                    </svg>
                    
                    <p class="main_text">Déconnexion</p>
                </button>
            </div>
        }
        @else {
            <button class="button_with_pictogram" (click)="goToSessions()">
                <svg class="picto" width="16" height="16" fill="white" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" data-design-system="oxygen" data-design-system-component="Icon" data-icon-name="regular/arrow-left">
                    <path d="M9.125 9.125h-2.25A4.116 4.116 0 0 0 2.75 13.25c0 .422.328.75.75.75h9c.398 0 .75-.328.75-.75a4.13 4.13 0 0 0-4.125-4.125m-5.25 3.75a3.016 3.016 0 0 1 3-2.625h2.25a3.01 3.01 0 0 1 2.977 2.625zM8 8c1.64 0 3-1.336 3-3 0-1.64-1.36-3-3-3-1.664 0-3 1.36-3 3 0 1.664 1.336 3 3 3m0-4.875A1.88 1.88 0 0 1 9.875 5 1.866 1.866 0 0 1 8 6.875 1.85 1.85 0 0 1 6.125 5c0-1.031.82-1.875 1.875-1.875"></path>            
                </svg>
                <div class ="text">
                    <p class="main_text">Se connecter</p>
                    <p class="secondary_text">Gérer mes RDV</p>
                </div>
            </button>
        }
   
        
        <!--Lorsque tu utilises target="_blank", il est souvent recommandé d'ajouter l'attribut rel="noopener noreferrer" 
            pour des raisons de sécurité et de performance.-->
    </div>
</div>
